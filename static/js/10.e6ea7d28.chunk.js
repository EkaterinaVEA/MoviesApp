(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[10],{95:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return y}));var r=a(69),o=a(51),n=a.n(o),c=a(52),s=a(54),i=a(1),l=a(4),p=a(55),u=(a(56),a(53)),h=a(25),b=a(70),f=a(9);var x=Object(f.a)("form",{target:"e1t2bqhh2"})({name:"s8yu9j",styles:"position:relative;display:flex;margin:0 auto;width:400px;margin-bottom:40px;text-align:center"}),j=Object(f.a)("input",{target:"e1t2bqhh1"})({name:"ueaoj2",styles:"width:100%;height:40px;padding-left:20px;border:none;outline:none;border-radius:0 20px 20px 20px;font-weight:400;font-size:20px;line-height:1.14;color:var(--color-dark);box-shadow:-5px -5px 5px 0 #ffffff70,5px 5px 5px 0 #aeaec050;background-color:#f0f0f3;transition:border-color 250ms ease-in-out;&::placeholder{font-size:16px;font-weight:500;color:var(--color-accent);opacity:1;}&:focus{box-shadow:inset -5px -5px 5px 0 #ffffff70,inset 5px 5px 5px 0 #aeaec050;&::placeholder{opacity:1;transition-delay:250ms;color:#2c2c2caa;}}"}),d=Object(f.a)("button",{target:"e1t2bqhh0"})({name:"f5w32b",styles:"position:absolute;bottom:0;right:0;display:flex;align-items:center;padding:5px 10px 5px 0;opacity:0;pointer-events:none;border:none;font-size:30px;font-weight:500;color:var(--color-dark);background-color:transparent;&:hover{color:var(--color-accent);}Input:focus~&{opacity:1;pointer-events:all;transform:translateX(0);}& svg{margin-left:10px;color:var(--color-accent);}"}),g=a(92),m=a(2),v=function(e){var t=e.onSearch;return Object(m.jsxs)(x,{onSubmit:function(e){e.preventDefault(),""!==e.target.elements.searchQuery.value.trim()?(t(e.target.elements.searchQuery.value.toLowerCase().trim()),e.target.elements.searchQuery.value=""):p.a.info("Please, enter query!")},children:[Object(m.jsx)(j,{type:"text",name:"searchQuery",id:"movieSearch",placeholder:"Search movies",autoComplete:"off"}),Object(m.jsx)(d,{type:"submit",children:Object(m.jsx)(g.a,{})})]})},O=a(68);function y(){var e=Object(i.useState)([]),t=Object(s.a)(e,2),a=t[0],o=t[1],f=Object(i.useState)("idle"),x=Object(s.a)(f,2),j=x[0],d=x[1],g=Object(l.g)(),y=Object(l.h)(),w=Number(new URLSearchParams(y.search).get("page"))||1,S=new URLSearchParams(y.search).get("query"),k=Object(i.useState)(null),q=Object(s.a)(k,2),P=q[0],Q=q[1];Object(i.useEffect)((function(){function e(){return(e=Object(c.a)(n.a.mark((function e(){var t,a,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d("pending"),e.prev=1,e.next=4,Object(u.e)(S,w);case 4:if(t=e.sent,a=t.results,r=t.total_pages,a.length){e.next=8;break}throw new Error("Results not found");case 8:o(a),Q(r),d("resolved"),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0),p.a.warning("Results not found"),d("rejected");case 18:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}S&&function(){e.apply(this,arguments)}()}),[S,w]);var R=function(e){e&&e!==S?(o([]),g.push(Object(r.a)(Object(r.a)({},y),{},{search:"query=".concat(e,"&page=",1)}))):p.a.info("Please, enter new query!")};return"idle"===j?Object(m.jsx)(v,{onSearch:R}):"pending"===j?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(v,{onSearch:R}),Object(m.jsx)(h.a,{})]}):"resolved"===j?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(v,{onSearch:R}),a&&Object(m.jsx)(O.a,{movies:a}),Object(m.jsx)(b.a,{totalPages:P,onClick:function(e){var t=e.selected;g.push(Object(r.a)(Object(r.a)({},y),{},{search:"query=".concat(S,"&page=").concat(t+1)})),window.scrollTo({top:0,behavior:"smooth"})},currentPage:w})]}):"rejected"===j?Object(m.jsx)(v,{onSearch:R}):void 0}}}]);
//# sourceMappingURL=10.e6ea7d28.chunk.js.map