(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[8],{94:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return g}));var c=a(69),n=a(51),s=a.n(n),r=a(52),o=a(54),i=a(1),u=a(4),j=a(55),b=(a(56),a(53)),l=a(68),p=a(70),O=a(25),h=a(2);function g(){var e=Object(i.useState)([]),t=Object(o.a)(e,2),a=t[0],n=t[1],g=Object(i.useState)("idle"),d=Object(o.a)(g,2),f=d[0],v=d[1],w=Object(i.useState)(null),m=Object(o.a)(w,2),x=m[0],k=m[1],P=Object(u.j)().isExact,S=Object(u.g)(),y=Object(u.h)(),E=Number(new URLSearchParams(y.search).get("page"))||1;Object(i.useEffect)((function(){function e(){return(e=Object(r.a)(s.a.mark((function e(){var t,a,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P||(S.push("/"),j.a.warning("Page not found")),v("pending"),e.prev=2,e.next=5,Object(b.f)(E);case 5:t=e.sent,a=t.results,c=t.total_pages,n(a),k(c),v("resolved"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0),v("idle");case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[E,S,P]);return"idle"===f?Object(h.jsx)(h.Fragment,{}):"pending"===f?Object(h.jsx)(O.a,{}):"resolved"===f?Object(h.jsxs)(h.Fragment,{children:[a&&Object(h.jsx)(l.a,{movies:a}),Object(h.jsx)(p.a,{totalPages:x,onClick:function(e){var t=e.selected;S.push(Object(c.a)(Object(c.a)({},y),{},{search:0===t?"":"page=".concat(t+1)})),window.scrollTo({top:0,behavior:"smooth"})},currentPage:E})]}):void 0}}}]);
//# sourceMappingURL=8.a3fd4ff3.chunk.js.map